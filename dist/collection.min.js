!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Collection=e():t.Collection=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return t[r].call(u.exports,u,u.exports,e),u.l=!0,u.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){var n=[],r=!0,u=!1,i=void 0;try{for(var l,o=t[Symbol.iterator]();!(r=(l=o.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0);}catch(t){u=!0,i=t}finally{try{!r&&o.return&&o.return()}finally{if(u)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=e.Collection=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i(this,t),this.items=t.getArraybleItems(e)}return a(t,[{key:"all",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&Array.isArray(this.items)?this.items.map(function(e){return e instanceof t?e.all(!0):e}):this.items}},{key:"avg",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.count();return e?this.sum(t)/e:this}},{key:"average",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.avg(t)}},{key:"chunk",value:function(e){return e<=0?new t:new t(this.all().reduce(function(t,n,r,u){return r%e?t:t.concat([u.slice(r,r+e)])},[]))}},{key:"collapse",value:function(){var e=[];return this.all().forEach(function(n){if(n instanceof t)n=n.all();else if(!Array.isArray(n))return;e=[].concat(u(e),u(n))}),new t(e)}},{key:"combine",value:function(e){var n={};return this.all().forEach(function(t,r){n[t]=e[r]}),new t(n)}},{key:"contains",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"function"!=typeof t&&null!==t?this.items.some(function(n){return e?n===t:n==t}):this.items.some(function(e,n){return t(e,n)})}},{key:"count",value:function(){return this.isObject()?Object.keys(this.all()).length:this.all().length}},{key:"diff",value:function(e){return e=new t(e),this.reject(function(t){return e.contains(t)})}},{key:"diffKeys",value:function(e){return e=new t(e),this.reject(function(t){var n=Object.keys(t),r=o(n,1),u=r[0];return e.contains(function(t){var e=Object.keys(t),n=o(e,1),r=n[0];return u===r})})}},{key:"each",value:function(t){return this.all().forEach(t)}},{key:"every",value:function(t){return this.all().every(t)}},{key:"except",value:function(){for(var e=arguments.length,n=Array(e),u=0;u<e;u++)n[u]=arguments[u];return Array.isArray(this.all())?null:(n=new t(n),new t(Object.entries(this.all()).filter(function(t){var e=o(t,1),r=e[0];return!n.contains(r)}).reduce(function(t,e){var n=o(e,2),u=n[0],i=n[1];return Object.assign({},t,r({},u,i))},{})))}},{key:"filter",value:function(e){return new t(this.all().filter(e))}},{key:"first",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(0===this.items.length)return null;if("function"==typeof t){var e=this.all().filter(function(e,n){return t(e,n)});if(e.length>0)return e[0]}return this.items[0]}},{key:"flatten",value:function(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=new t((e=[]).concat.apply(e,u(this.all())));return n&&r.contains(Array.isArray)?r.flatten(!0):r}},{key:"flip",value:function(){var e=this;return Array.isArray(this.all())?this.map(function(t){return Object.keys(t).reduce(function(e,n){return Object.assign({},e,r({},t[n],n))},[])}):new t(Object.keys(this.all()).reduce(function(t,n){return Object.assign({},t,r({},e.all()[n],n))},{}))}},{key:"forget",value:function(t){return delete this.all()[t],this}},{key:"get",value:function(t){return this.all()[t]||null}},{key:"has",value:function(t){return Array.isArray(this.all())?!!~this.all().indexOf(t):this.all().hasOwnProperty(t)}},{key:"implode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.first();return"object"===(void 0===n?"undefined":l(n))?this.pluck(t).all().join(e):this.all().join(t)}},{key:"isEmpty",value:function(){return 0===this.count()}},{key:"isNotEmpty",value:function(){return!this.isEmpty()}},{key:"isObject",value:function(){return"object"===l(this.all())}},{key:"keys",value:function(){return new t(Object.keys(this.all()))}},{key:"last",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"function"==typeof t?this.reverse().first(t):this.items[this.count()-1]}},{key:"map",value:function(e){return new t(this.all().map(e))}},{key:"max",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.first();return t&&(e=e[t]),this.filter(function(e){return t?null!==e[t]:null!==e}).reduce(function(e,n){return t&&(n=n[t]),null===e||n>e?n:e},e)}},{key:"median",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=this.count();if(0===r)return null;var u=this.pipe(function(){return n?e.pluck(n):e}).sort().values(),i=parseInt(r/2);return r%2?u.get(i):new t([u.get(i-1),u.get(i)]).average()}},{key:"merge",value:function(t){return this.map(function(e,n){return Object.assign({},e,t[n])})}},{key:"min",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.first();return t&&(e=e[t]),this.filter(function(e){return t?null!==e[t]:null!==e}).reduce(function(e,n){return t&&(n=n[t]),null===e||n<e?n:e},e)}},{key:"mode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.isEmpty())return null;var e=t?this.pluck(t):this,n={},r=0,u=null;return e.each(function(t){n[t]=(n[t]||0)+1,r<n[t]&&(r=n[t],u=t)}),+u}},{key:"nth",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],u=0;return this.all().forEach(function(t){u%e===n&&r.push(t),u+=1}),new t(r)}},{key:"only",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!Array.isArray(this.all())){var u={};return Object.entries(this.all()).forEach(function(t){var e=o(t,2),r=e[0],i=e[1];[].concat(n).filter(function(t){return t===r}).forEach(function(t){return u[t]=i})}),new t(u)}return null}},{key:"pipe",value:function(t){return t(this)}},{key:"pluck",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?this.map(function(n){var r={};return r[n[e]]=n[t],r}):this.map(function(e){return e[t]})}},{key:"pop",value:function(){return this.all().pop()}},{key:"prepend",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e.concat(this.all()):(this.unshift(t),this)}},{key:"pull",value:function(t){var e=this.get(t),n=Object.entries(this.all()).filter(function(e){return o(e,1)[0]!==t}).reduce(function(t,e){var n=o(e,2),u=n[0],i=n[1];return Object.assign({},t,r({},u,i))},{});return Object.keys(n).length>0?(this.items=n,e):null}},{key:"put",value:function(e,n){return!!this.isObject()&&(this.all()[e]=n,new t(this.all()))}},{key:"push",value:function(t){return this.all().push(t),this}},{key:"reduce",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.all().reduce(t,e)}},{key:"reject",value:function(e){return new t(this.all().filter(function(t,n){return!e(t,n)}))}},{key:"reverse",value:function(){return new t(this.all().reverse())}},{key:"shift",value:function(){return this.all().shift()}},{key:"slice",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new t(n?this.all().slice(e,n+e):this.all().slice(e))}},{key:"sort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new t(e?this.all().sort(e):this.all().sort())}},{key:"sortDesc",value:function(){return new t(this.sort().all().reverse())}},{key:"splice",value:function(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new t(1===[].concat(Array.prototype.slice.call(arguments)).length?this.all().splice(e):0===i.length?this.all().splice(e,r):(n=this.all()).splice.apply(n,[e,r].concat(u(i))))}},{key:"split",value:function(e){if(this.isEmpty())return new t;var n=Math.ceil(this.count()/e);return this.chunk(n)}},{key:"sum",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"function"==typeof t?this.all().reduce(function(e,n){return e+t(n)},0):"string"==typeof t?this.all().reduce(function(e,n){return e.hasOwnProperty(t)&&n.hasOwnProperty(t)?e[t]+n[t]:e+n[t]}):this.all().reduce(function(t,e){return t+e},0)}},{key:"tap",value:function(e){return e(new t(this.all())),this}},{key:"take",value:function(e){return e?e<0?new t(this.all().reverse()).take(-e):new t(this.all().slice(0,e)):new t}},{key:"toArray",value:function(){return this.all(!0)}},{key:"unique",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if("string"==typeof e)return this.unique(function(t){return t[e]});if(e){var n=new t;return this.reduce(function(t,r){var u=e(r);return n.has(u)||(t.push(r),n.push(u)),t},new t)}return this.reduce(function(t,e){return t.has(e)||t.push(e),t},new t)}},{key:"unshift",value:function(){var t;return(t=this.all()).unshift.apply(t,arguments)}},{key:"values",value:function(){var t=this;return this.keys().map(function(e){return t.all()[e]})}},{key:"when",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return t?e(this):n?n(this):this}},{key:"where",value:function(t,e){return this.filter(function(n){return n[t]==e})}},{key:"whereStrict",value:function(t,e){return this.filter(function(n){return n[t]===e})}},{key:"whereIn",value:function(e,n){return this.filter(function(r){return new t(n).contains(r[e])})}},{key:"whereInStrict",value:function(e,n){return this.filter(function(r){return new t(n).contains(r[e],!0)})}},{key:"zip",value:function(e){return e instanceof t?this.map(function(t,n){return[t,e.get(n)]}):this.map(function(t,n){return[t,e[n]]})}}],[{key:"getArraybleItems",value:function(e){return Array.isArray(e)?e:e instanceof t?e.all(!0):"function"==typeof e.toArray?e.toArray():e instanceof Object?e:[e]}},{key:"hasMacro",value:function(e){return void 0!==t.prototype[e]}},{key:"macro",value:function(e,n){if(void 0!==t.prototype[e])throw new Error("Collection.macro(): This macro name is already defined.");t.prototype[e]=function(){for(var t=this,e=arguments.length,r=Array(e),u=0;u<e;u++)r[u]=arguments[u];return n.apply(void 0,[t].concat(r))}}},{key:"times",value:function(e,n){return e<1?new t:new t([].concat(u(Array(e+1).keys())).slice(1)).map(n)}}]),t}();e.collect=function(t){return new c(t)}}])});
//# sourceMappingURL=collection.min.js.map